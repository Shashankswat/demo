---
layout: presentations
title: Advanced Administration
---

<textarea id="source">
  class: title-slide

  <span class="mega-octicon octicon-mark-github"></span>
  <h1>Advanced Administration</h1>

  <footer>
    <div class="octicon-spacer"><span class="octicon octicon-logo-github"></span><span class="tagline">how people build software</span></div>
  </footer>
  ---
  class: title-top

  # Advanced Administration

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-block">
            <div class="card-text"><strong>Section Goal:</strong></div>
            <div class="card-text">Understand Advanced GitHub Enterprise administration topics.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
            <div class="card-img-top text-left"><span class="mega-octicon octicon-checklist"></span><strong>&nbsp;Topics and Agenda:</strong></div>
            <ul class="card-text">
              <li>Publish logs</li>
              <li>Search auditing for users actions</li>
              <li>Suspend users</li>
              <li>User impersonation</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
            <div class="card-img-top text-left"><span class="mega-octicon octicon-checklist"></span><strong>&nbsp;Topics and Agenda:</strong></div>
            <ul class="card-text">
              <li>Validate git-lfs</li>
              <li>Access audit logging via API</li>
              <li>Enable GitHub replication</li>
              <li>GitHub backup and DR</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div class="octicon-spacer"><span class="octicon octicon-logo-github"></span><span class="tagline">how people build software</span></div>
  </footer>
  ---
  class: title-top

  # Useful Commands

  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
            <div class="card-text"><strong>Connect to <a href="https://help.github.com/enterprise/2.4/admin/guides/installation/administrative-shell-ssh-access/" target="_blank">SSH</a> using port 122:</strong></div>
            <ul class="card-text">
              <li><code>ghe-announce</code> - sets a banner at the top of every GitHub Enterprise page</li>
              <li><code>ghe-maintenance</code> - put the instance into maintenance mode</li>
              <li><code>ghe-user-csv</code> - dumps a list of all the users in the installation in CSV format</li>
              <li><code>ghe-system-info</code> - responds with JSON of instance health stats</li>
              <li><code>ghe-license-info</code> - responds with JSON of of the currently installed license</li>
              <li><code>ghe-set-password</code> - set a new password to log into the Management Console</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-block">
            <div class="card-text"><strong>Not available when LDAP sync is enabled:</strong></div>
            <ul class="card-text">
              <li><code>ghe-user-promote</code></li>
              <li><code>ghe-user-demote</code></li>
              <li><code>ghe-user-suspend</code></li>
              <li><code>ghe-user-unsuspend</code></li>
              <li><code>ghe⇥⇥</code> - view all commands</li></br>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div class="octicon-spacer"><span class="octicon octicon-logo-github"></span><span class="tagline">how people build software</span></div>
  </footer>
  ---
  class: title-top

  # Audit Logs

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-block">
            <div class="card-text">GitHub Enterprise keeps logs of audited user, repository, and system events. You can use these logs to debug your installation as well as to comply with internal security mandates and external regulations. A number of user-initiated actions are audited, including:</div>
            <ul class="card-text">
              <li>creating or deleting a repository</li>
              <li>creating or deleting an organization</li>
              <li>adding or removing an email address</li>
              <li>adding or removing an SSH key</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-block">
            <div class="card-text">All audited system events—including all pushes and pulls—are logged to <code>/var/log/github/audit.log</code>.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-block">
            <div class="card-text">All audit information is logged to the <code>audit.log</code> file in the <code>github-logs</code> directory of any <a href="https://help.github.com/enterprise/2.4/admin/guides/installation/troubleshooting/#support-bundle" target="_blank">Support Bundle</a>. If <a href="https://help.github.com/enterprise/2.4/admin/articles/log-forwarding/" target="_blank">log forwarding</a> is enabled, you can stream this data to an external syslog stream consumer such as Splunk or logstash. All entries from this log use the "github_audit" keyword and can be filtered using that.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div class="octicon-spacer"><span class="octicon octicon-logo-github"></span><span class="tagline">how people build software</span></div>
  </footer>
</textarea>
